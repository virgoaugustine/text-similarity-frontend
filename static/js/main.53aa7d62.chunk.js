(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a(20)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t),a.d(t,"apiURL",(function(){return E}));var n=a(0),r=a.n(n),s=a(7),c=a.n(s),l=(a(13),a(1)),o=a(2),i=a(3),m=a(4),u=a(5),p=(a(14),function(e){var t=e.onRouteChange;return r.a.createElement("nav",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement("p",{onClick:function(){return t("login")},className:"f3 link dim black underline pa3 pointer"},"Logout"))}),d=(a(15),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onLoginClick=function(){fetch("".concat(E,"/login"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n.state.username,password:n.state.password})}).then((function(e){return e.json()})).then((function(e){e.payload.username&&(n.props.loadUser(e.payload),n.props.onRouteChange("home"))})).catch((function(e){return console.log("Wrong Credentials")}))},n.getInput=function(e){n.setState(Object(l.a)({},e.target.name,e.target.value))},n.state={username:"",password:""},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"mt6"},r.a.createElement("article",{className:"br3 b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center bg-near-white"},r.a.createElement("main",{className:"pa4 black-80"},r.a.createElement("div",{className:"measure"},r.a.createElement("fieldset",{id:"login",className:"ba b--transparent ph0 mh0"},r.a.createElement("legend",{className:"f2 fw6 ph0 mh0 tc"},"Sign In"),r.a.createElement("div",{className:"mt3"},r.a.createElement("label",{className:"db fw6 lh-copy f6"},"Username"),r.a.createElement("input",{onChange:this.getInput,className:"pa2 input-reset ba bg-transparent hover-bg-near-black hover-white w-100",type:"text",name:"username",id:"username"})),r.a.createElement("div",{className:"mv3"},r.a.createElement("label",{className:"db fw6 lh-copy f6"},"Password"),r.a.createElement("input",{onChange:this.getInput,className:"b pa2 input-reset ba bg-transparent hover-bg-near-black hover-white w-100",type:"password",name:"password",id:"password"}))),r.a.createElement("div",null,r.a.createElement("input",{onClick:this.onLoginClick,className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:"Sign in"})),r.a.createElement("div",{className:"lh-copy mt3"},r.a.createElement("p",{onClick:function(){return e.props.onRouteChange("register")},className:"f6 link dim black db pointer"},"Register"))))))}}]),a}(n.Component)),h=(a(16),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onRegisterClick=function(){fetch("".concat(E,"/register"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n.state.name,username:n.state.username,email:n.state.email,password:n.state.password})}).then((function(e){return e.json()})).then((function(e){console.log(e),e.payload.username&&(n.props.loadUser(e.payload),n.props.onRouteChange("home"))})).catch((function(e){return console.log(e)}))},n.getInput=function(e){n.setState(Object(l.a)({},e.target.name,e.target.value))},n.state={name:"",username:"",email:"",password:"",errorMessage:""},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"mt6"},r.a.createElement("article",{className:"br3 b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center bg-near-white"},r.a.createElement("main",{className:"pa4 black-80"},r.a.createElement("div",{className:"measure"},r.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},r.a.createElement("legend",{className:"f2 fw6 ph0 mh0 tc"},"Sign Up"),r.a.createElement("div",{className:"mt3"},r.a.createElement("label",{className:"db fw6 lh-copy f6"},"Name"),r.a.createElement("input",{onChange:this.getInput,className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"name",name:"name",id:"name"})),r.a.createElement("div",{className:"mt3"},r.a.createElement("label",{className:"db fw6 lh-copy f6"},"Username"),r.a.createElement("input",{onChange:this.getInput,className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"name",name:"username",id:"username"})),r.a.createElement("div",{className:"mt3"},r.a.createElement("label",{className:"db fw6 lh-copy f6"},"Email"),r.a.createElement("input",{onChange:this.getInput,className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"email",name:"email",id:"email-address"})),r.a.createElement("div",{className:"mv3"},r.a.createElement("label",{className:"db fw6 lh-copy f6"},"Password"),r.a.createElement("input",{onChange:this.getInput,className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",id:"password"}))),r.a.createElement("div",{className:""},r.a.createElement("input",{onClick:this.onRegisterClick,className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:"Register"})),r.a.createElement("div",{className:"lh-copy mt3"},r.a.createElement("p",{onClick:function(){return e.props.onRouteChange("login")},className:"f6 link dim black db pointer"},"Login"))))))}}]),a}(n.Component)),b=(a(17),function(e){var t=e.field,a=e.textInput;return r.a.createElement("article",{className:"pa4 black-80 mw6 center"},r.a.createElement("div",null,r.a.createElement("label",{className:"f6 b db mb2 tc"},"Text ".concat(t)),r.a.createElement("textarea",{id:"comment",name:"text".concat(t),onChange:a,className:"db border-box hover-black w-100 measure ba b--black-20 pa1 br2 mb2","aria-describedby":"comment-desc"})))}),g=function(e){var t=e.compare,a=e.similarity;return r.a.createElement("div",null,r.a.createElement("div",{className:"customCenter"},r.a.createElement("button",{className:"f6 grow no-underline br-pill ba bw2 ph3 pv2 mb2 dib navy",onClick:t},"Compare")),r.a.createElement("div",{className:"br3 b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center tc pa4 bg-near-white"},a))},f=(a(18),function(e){var t=e.user,a=e.tokens;return a>0?r.a.createElement("div",null,r.a.createElement("div",{className:"white f3"},"Hello ".concat(t,", you currently have "),r.a.createElement("span",{className:"white f1"},a),a>1?" tokens.":" token.")):r.a.createElement("div",null,r.a.createElement("div",{className:"white f3"},"Hello ".concat(t,", you currently have "),r.a.createElement("span",{className:"white f1"},"0")," tokens. Please contact the admin to buy more."))}),v={route:"login",isSigned:!1,user:{name:"",username:"",tokens:""},text1:"",text2:"",similarity:"",errorMessage:""},w=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onRouteChange=function(e){"home"===e&&n.setState({isSigned:!0}),"login"===e&&n.setState(v),n.setState({route:e})},n.errorDetected=function(e){n.setState({errorMessage:e})},n.loadUser=function(e){n.setState({user:{name:e.name,username:e.username,tokens:e.tokens}})},n.getTextFieldInput=function(e){n.setState(Object(l.a)({},e.target.name,e.target.value))},n.onCompareClick=function(){fetch("".concat(E,"/detect"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n.state.user.username,text1:n.state.text1,text2:n.state.text2})}).then((function(e){return e.json()})).then((function(e){e.Message&&(n.setState({similarity:e.Message}),fetch("".concat(E,"/tokenCount"),{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n.state.user.username})}).then((function(e){return e.json()})).then((function(e){return n.setState(Object.assign(n.state.user,{tokens:e.payload}))})))}))},n.renderSwitch=function(e){switch(e){default:return r.a.createElement("p",null,"Error Loading Page");case"login":return r.a.createElement(d,{onRouteChange:n.onRouteChange,loadUser:n.loadUser,errorDetected:n.errorDetected});case"register":return r.a.createElement(h,{onRouteChange:n.onRouteChange,loadUser:n.loadUser});case"home":return r.a.createElement("div",null,r.a.createElement("div",{className:"nav"},r.a.createElement(p,{onRouteChange:n.onRouteChange})),r.a.createElement("div",null,r.a.createElement(f,{user:n.state.user.name,tokens:n.state.user.tokens})),r.a.createElement("div",{className:"cf pa4 center"},r.a.createElement("div",{className:"fl w-50 bg-near-white tc"},r.a.createElement(b,{field:1,textInput:n.getTextFieldInput})),r.a.createElement("div",{className:"fl w-50 bg-light-gray tc"},r.a.createElement(b,{field:2,textInput:n.getTextFieldInput}))),r.a.createElement("div",{className:"results"},r.a.createElement(g,{compare:n.onCompareClick,similarity:n.state.similarity})))}},n.state=v,n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},this.renderSwitch(this.state.route),this.state.errorMessage?r.a.createElement("h3",{className:"error"}," ",this.state.errorMessage," "):null)}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(19);var E="https://text-similarity-api.herokuapp.com";c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.53aa7d62.chunk.js.map